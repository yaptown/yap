The company was heading towards bankruptcy.