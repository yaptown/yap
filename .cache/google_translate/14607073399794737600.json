The mayor will announce his resignation shortly.